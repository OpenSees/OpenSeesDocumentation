<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.4.2.13. Orthotropic Material Wrapper &mdash; OpenSees Documentation  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="3.4.3. section Command" href="../section.html" />
    <link rel="prev" title="3.4.2.12. SANISAND-MS Material" href="SAniSandMS.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html">
            <img src="../../../../_static/OpenSeesLogo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Applications for Users</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../interpreters.html">1. OpenSees Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">2. Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../userManual.html">3. Command Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../modelCommands.html">3.1. Modelling Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analysisCommands.html">3.2. Analysis Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../outputCommands.html">3.3. Output Commands</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../materialCommands.html">3.4. Material Commands</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../uniaxialMaterial.html">3.4.1. uniaxialMaterial Command</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../ndMaterial.html">3.4.2. nDMaterial Command</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ElasticIsotropic.html">3.4.2.1. Elastic Isotropic Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="ElasticOrthotropic.html">3.4.2.2. Elastic Orthotropic Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="J2Plasticity.html">3.4.2.3. J2 Plasticity Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="DruckerPrager.html">3.4.2.4. Drucker Prager Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="ManzariDafalias.html">3.4.2.5. Manzari Dafalias Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="BoundingCamClay.html">3.4.2.6. Bounding Cam Clay</a></li>
<li class="toctree-l4"><a class="reference internal" href="PM4Sand.html">3.4.2.7. PM4Sand Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="PM4Silt.html">3.4.2.8. PM4Silt Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="PressureIndependentMultiYield.html">3.4.2.9. Pressure Independent Multi Yield</a></li>
<li class="toctree-l4"><a class="reference internal" href="PressureDependentMultiYield.html">3.4.2.10. Pressure Dependent Multi Yield</a></li>
<li class="toctree-l4"><a class="reference internal" href="J2CyclicBoundingSurface.html">3.4.2.11. J2CyclicBoundingSurface Material</a></li>
<li class="toctree-l4"><a class="reference internal" href="SAniSandMS.html">3.4.2.12. SANISAND-MS Material</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">3.4.2.13. Orthotropic Material Wrapper</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../section.html">3.4.3. section Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matTestCommands.html">3.4.4. Material Testing Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../miscCommands.html">3.5. Misc. Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../userExamples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../messageBoard.html">5. Questions, Bugs &amp; Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/license.html">6. Copyright and License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Framework for Developer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/sourceCode.html">1. Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/build.html">2. Building Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/references.html">3. References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/extend.html">4. Extending Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/contribute.html">5. Contributing Code &amp; Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/issues.html">6. Issues</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">OpenSees Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../userManual.html"><span class="section-number">3. </span>Command Manual</a> &raquo;</li>
          <li><a href="../../materialCommands.html"><span class="section-number">3.4. </span>Material Commands</a> &raquo;</li>
          <li><a href="../ndMaterial.html"><span class="section-number">3.4.2. </span>nDMaterial Command</a> &raquo;</li>
      <li><span class="section-number">3.4.2.13. </span>Orthotropic Material Wrapper</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/user/manual/material/ndMaterials/Orthotropic.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="orthotropic-material-wrapper">
<span id="orthotropic"></span><h1><span class="section-number">3.4.2.13. </span>Orthotropic Material Wrapper<a class="headerlink" href="#orthotropic-material-wrapper" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>This command is used to construct an Orthotropic material object. It is a wrapper that can convert any 3D (Linear or Nonlinear) constitutive model to an orthotropic one.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">nDMaterial</span> <span class="pre">Orthotropic</span> <span class="pre">$matTag</span> <span class="pre">$theIsoMatTag</span> <span class="pre">$Ex</span> <span class="pre">$Ey</span> <span class="pre">$Ez</span> <span class="pre">$Gxy</span> <span class="pre">$Gyz</span> <span class="pre">$Gzx</span> <span class="pre">$vxy</span> <span class="pre">$vyz</span> <span class="pre">$vzx</span> <span class="pre">$Asigmaxx</span> <span class="pre">$Asigmayy</span> <span class="pre">$Asigmazz</span> <span class="pre">$Asigmaxyxy</span> <span class="pre">$Asigmayzyz</span> <span class="pre">$Asigmaxzxz</span></span></dt>
<dd></dd></dl>

<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>$matTag</p></td>
<td><p><em>integer</em></p></td>
<td><p>unique tag identifying this orthotropic material wrapper</p></td>
</tr>
<tr class="row-odd"><td><p>$theIsoMatTag</p></td>
<td><p><em>integer</em></p></td>
<td><p>unique tag identifying a previously defined isotropic material</p></td>
</tr>
<tr class="row-even"><td><p>$Ex $Ey $Ez</p></td>
<td><p>3 <em>float</em></p></td>
<td><p>Elastic moduli in three mutually perpendicular directions</p></td>
</tr>
<tr class="row-odd"><td><p>$Gxy $Gyz $Gzx</p></td>
<td><p>3 <em>float</em></p></td>
<td><p>Shear moduli</p></td>
</tr>
<tr class="row-even"><td><p>$vxy $vyz $vzx</p></td>
<td><p>3 <em>float</em></p></td>
<td><p>Poisson‚Äôs ratios</p></td>
</tr>
<tr class="row-odd"><td><p>$Asigmaxx</p></td>
<td><p><em>float</em></p></td>
<td><p>Ratio of the isotropic to the orthotropic strength along the X direction (Fxx_iso / Fxx_ortho)</p></td>
</tr>
<tr class="row-even"><td><p>$Asigmayy</p></td>
<td><p><em>float</em></p></td>
<td><p>Ratio of the isotropic to the orthotropic strength along the Y direction (Fyy_iso / Fyy_ortho)</p></td>
</tr>
<tr class="row-odd"><td><p>$Asigmazz</p></td>
<td><p><em>float</em></p></td>
<td><p>Ratio of the isotropic to the orthotropic strength along the Z direction (Fzz_iso / Fzz_ortho)</p></td>
</tr>
<tr class="row-even"><td><p>$Asigmaxyxy</p></td>
<td><p><em>float</em></p></td>
<td><p>Ratio of the isotropic to the orthotropic shear strength in the XY plane (Fxy_iso / Fxy_ortho)</p></td>
</tr>
<tr class="row-odd"><td><p>$Asigmayzyz</p></td>
<td><p><em>float</em></p></td>
<td><p>Ratio of the isotropic to the orthotropic shear strength in the YZ plane (Fyz_iso / Fyz_ortho)</p></td>
</tr>
<tr class="row-even"><td><p>$Asigmaxzxz</p></td>
<td><p><em>float</em></p></td>
<td><p>Ratio of the isotropic to the orthotropic shear strength in the XZ plane (Fxz_iso / Fxz_ortho)</p></td>
</tr>
</tbody>
</table>
<section id="usage-notes">
<h2><span class="section-number">3.4.2.13.1. </span>Usage Notes<a class="headerlink" href="#usage-notes" title="Permalink to this heading">ÔÉÅ</a></h2>
<div class="admonition-note-1 admonition">
<p class="admonition-title">Note 1</p>
<p>The only material formulation for the Orthotropic material object is ‚ÄúThreeDimensional‚Äù.</p>
</div>
<div class="admonition-note-2 admonition">
<p class="admonition-title">Note 2</p>
<p>The only material formulation allowed for the adapted isotropic material object is ‚ÄúThreeDimensional‚Äù.</p>
</div>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="line-block">
<div class="line">A simple example which evaluates the Yield domain in the plane-stress plane (Szz = 0) of the original isotropic J2Plasticity model (Sy = 400 MPa) and of its orthotropic counter-part (Sx = 1.5*Sy, Ex = 1.5*Ey).</div>
<div class="line">The Tcl code prints the points of the two yield domains on the screen.</div>
<div class="line">The Python code creates a plot like this:</div>
</div>
<figure class="align-center">
<img alt="../../../../_images/Orthotropic_result.png" src="../../../../_images/Orthotropic_result.png" />
</figure>
<ol class="arabic simple">
<li><p><strong>Python Code</strong></p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">openseespy</span> <span class="kn">import</span> <span class="n">opensees</span> <span class="k">as</span> <span class="n">os</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="k">def</span> <span class="nf">analyze_dir</span> <span class="p">(</span><span class="n">dX</span><span class="p">,</span> <span class="n">dY</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>

    <span class="c1"># info</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Analyze direction (</span><span class="si">%g</span><span class="s2">, </span><span class="si">%g</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dX</span><span class="p">,</span> <span class="n">dY</span><span class="p">))</span>

    <span class="c1"># the 2D model</span>
    <span class="n">os</span><span class="o">.</span><span class="n">wipe</span><span class="p">()</span>
    <span class="n">os</span><span class="o">.</span><span class="n">model</span><span class="p">(</span> <span class="s2">&quot;basic&quot;</span><span class="p">,</span> <span class="s2">&quot;-ndm&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;-ndf&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>

    <span class="c1"># the material</span>
    <span class="n">E</span> <span class="o">=</span> <span class="mf">200000.0</span>
    <span class="n">v</span> <span class="o">=</span> <span class="mf">0.3</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">E</span><span class="o">/</span><span class="p">(</span><span class="mf">2.0</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">+</span><span class="n">v</span><span class="p">))</span>
    <span class="n">K</span> <span class="o">=</span> <span class="n">E</span><span class="o">/</span><span class="p">(</span><span class="mf">3.0</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="mf">2.0</span><span class="o">*</span><span class="n">v</span><span class="p">))</span>
    <span class="n">sig0</span> <span class="o">=</span> <span class="mf">400.0</span>
    <span class="n">os</span><span class="o">.</span><span class="n">nDMaterial</span><span class="p">(</span> <span class="s2">&quot;J2Plasticity&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">sig0</span><span class="p">,</span> <span class="n">sig0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">)</span>

    <span class="c1"># the orthotropic wrapper</span>
    <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;ortho&quot;</span><span class="p">:</span>
        <span class="n">Ex</span> <span class="o">=</span> <span class="n">E</span><span class="o">*</span><span class="mf">1.5</span>
        <span class="n">Ey</span> <span class="o">=</span> <span class="n">E</span>
        <span class="n">Ez</span> <span class="o">=</span> <span class="n">E</span>
        <span class="n">Gxy</span> <span class="o">=</span> <span class="n">G</span>
        <span class="n">Gyz</span> <span class="o">=</span> <span class="n">G</span>
        <span class="n">Gzx</span> <span class="o">=</span> <span class="n">G</span>
        <span class="n">vxy</span> <span class="o">=</span> <span class="n">v</span>
        <span class="n">vyz</span> <span class="o">=</span> <span class="n">v</span>
        <span class="n">vzx</span> <span class="o">=</span> <span class="n">v</span>
        <span class="n">Asigmaxx</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="mf">1.5</span> <span class="c1"># fx_iso/fx_ortho</span>
        <span class="c1"># nDMaterial Orthotropic $tag $theIsoMat $Ex $Ey $Ez $Gxy $Gyz $Gzx $vxy $vyz $vzx $Asigmaxx $Asigmayy $Asigmazz $Asigmaxyxy $Asigmayzyz $Asigmaxzxz.</span>
        <span class="n">os</span><span class="o">.</span><span class="n">nDMaterial</span><span class="p">(</span> <span class="s2">&quot;Orthotropic&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Ex</span><span class="p">,</span> <span class="n">Ey</span><span class="p">,</span> <span class="n">Ez</span><span class="p">,</span> <span class="n">Gxy</span><span class="p">,</span> <span class="n">Gyz</span><span class="p">,</span> <span class="n">Gzx</span><span class="p">,</span> <span class="n">vxy</span><span class="p">,</span> <span class="n">vyz</span><span class="p">,</span> <span class="n">vzx</span><span class="p">,</span> <span class="n">Asigmaxx</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">nDMaterial</span><span class="p">(</span> <span class="s2">&quot;PlaneStress&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># a triangle</span>
    <span class="n">os</span><span class="o">.</span><span class="n">node</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">node</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">node</span><span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">element</span><span class="p">(</span> <span class="s2">&quot;tri31&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>   <span class="mf">1.0</span><span class="p">,</span> <span class="s2">&quot;PlaneStress&quot;</span><span class="p">,</span> <span class="mi">3</span> <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;ortho&quot;</span> <span class="k">else</span> <span class="mi">1</span> <span class="p">)</span>

    <span class="c1"># fixity</span>
    <span class="n">os</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span> <span class="mi">3</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="c1"># a simple ramp</span>
    <span class="n">os</span><span class="o">.</span><span class="n">timeSeries</span><span class="p">(</span> <span class="s2">&quot;Linear&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;-factor&quot;</span><span class="p">,</span> <span class="mf">2.0</span><span class="o">*</span><span class="n">sig0</span> <span class="p">)</span>

    <span class="c1"># imposed stresses</span>
    <span class="n">os</span><span class="o">.</span><span class="n">pattern</span><span class="p">(</span> <span class="s2">&quot;Plain&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">load</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dX</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">load</span><span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">dY</span> <span class="p">)</span>

    <span class="c1"># analyze</span>
    <span class="n">os</span><span class="o">.</span><span class="n">constraints</span><span class="p">(</span> <span class="s2">&quot;Transformation&quot;</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">numberer</span><span class="p">(</span> <span class="s2">&quot;Plain&quot;</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span> <span class="s2">&quot;FullGeneral&quot;</span> <span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">test</span><span class="p">(</span> <span class="s2">&quot;NormDispIncr&quot;</span><span class="p">,</span> <span class="mf">1.0e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">algorithm</span><span class="p">(</span> <span class="s2">&quot;Newton&quot;</span> <span class="p">)</span>

    <span class="n">dLambda</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">dLambdaMin</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">Lambda</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">sX</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">sY</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">while</span> <span class="mi">1</span> <span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">integrator</span><span class="p">(</span> <span class="s2">&quot;LoadControl&quot;</span><span class="p">,</span> <span class="n">dLambda</span> <span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">analysis</span><span class="p">(</span> <span class="s2">&quot;Static&quot;</span> <span class="p">)</span>
        <span class="n">ok</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">analyze</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
        <span class="k">if</span> <span class="n">ok</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">stress</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">eleResponse</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;material&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;stress&quot;</span> <span class="p">)</span>
            <span class="n">sX</span> <span class="o">=</span> <span class="n">stress</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">sY</span> <span class="o">=</span> <span class="n">stress</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">Lambda</span> <span class="o">+=</span> <span class="n">dLambda</span>
            <span class="k">if</span> <span class="n">Lambda</span> <span class="o">&gt;</span> <span class="mf">0.9999</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dLambda</span> <span class="o">/=</span> <span class="mf">2.0</span>
            <span class="k">if</span> <span class="n">dLambda</span> <span class="o">&lt;</span> <span class="n">dLambdaMin</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="c1"># done</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">sX</span><span class="p">,</span> <span class="n">sY</span><span class="p">)</span>

<span class="n">NDiv</span> <span class="o">=</span> <span class="mi">48</span>
<span class="n">NP</span> <span class="o">=</span> <span class="n">NDiv</span><span class="o">+</span><span class="mi">1</span>
<span class="n">dAngle</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="n">NDiv</span>
<span class="n">SX</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span><span class="o">*</span><span class="n">NP</span>
<span class="n">SY</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span><span class="o">*</span><span class="n">NP</span>
<span class="n">SXortho</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span><span class="o">*</span><span class="n">NP</span>
<span class="n">SYortho</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span><span class="o">*</span><span class="n">NP</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NDiv</span><span class="p">):</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="n">i</span><span class="o">*</span><span class="n">dAngle</span>
    <span class="n">dX</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">dY</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">iso</span> <span class="o">=</span> <span class="n">analyze_dir</span><span class="p">(</span><span class="n">dX</span><span class="p">,</span> <span class="n">dY</span><span class="p">,</span> <span class="s2">&quot;iso&quot;</span><span class="p">)</span>
    <span class="n">ortho</span> <span class="o">=</span> <span class="n">analyze_dir</span><span class="p">(</span><span class="n">dX</span><span class="p">,</span> <span class="n">dY</span><span class="p">,</span> <span class="s2">&quot;ortho&quot;</span><span class="p">)</span>
    <span class="n">SX</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">iso</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">SY</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">iso</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">SXortho</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ortho</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">SYortho</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ortho</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">SX</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">SX</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">SY</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">SY</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">SXortho</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">SXortho</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">SYortho</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">SYortho</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">SX</span><span class="p">,</span> <span class="n">SY</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Iso (Fxx = Fyy = 400 MPa)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">SXortho</span><span class="p">,</span> <span class="n">SYortho</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Ortho (Fxx = 600 MPa; Fyy = 400 MPa)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="s1">&#39;box&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">750</span><span class="p">,</span> <span class="mi">900</span><span class="p">],</span><span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">750</span><span class="p">,</span> <span class="mi">500</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><strong>Tcl Code</strong></p></li>
</ol>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span><span class="w"> </span>analyze_dir<span class="w"> </span><span class="k">{</span><span class="nv">dX</span><span class="w"> </span>dY<span class="w"> </span>type<span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>

<span class="w">    </span><span class="c"># info</span>
<span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Analyze direction ($dX, $dY)&quot;</span>

<span class="w">    </span><span class="c"># the 2D model</span>
<span class="w">    </span><span class="nv">wipe</span>
<span class="w">    </span><span class="nv">model</span><span class="w"> </span>basic<span class="w"> </span><span class="o">-</span>ndm<span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span>ndf<span class="w"> </span><span class="mi">2</span>

<span class="w">    </span><span class="c"># the isotropic material</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>E<span class="w"> </span><span class="mf">200000.0</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>v<span class="w"> </span><span class="mf">0.3</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>G<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="nv">$E</span><span class="o">/</span><span class="k">(</span><span class="nv">2.0</span><span class="o">*</span><span class="k">(</span><span class="nv">1.0</span><span class="o">+</span><span class="nv">$v</span><span class="k">))]</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>K<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="nv">$E</span><span class="o">/</span><span class="k">(</span><span class="nv">3.0</span><span class="o">*</span><span class="k">(</span><span class="nv">1.0-2.0</span><span class="o">*</span><span class="nv">$v</span><span class="k">))]</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>sig0<span class="w"> </span><span class="mf">400.0</span>
<span class="w">    </span><span class="nv">nDMaterial</span><span class="w"> </span>J2Plasticity<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">$K</span><span class="w"> </span><span class="nv">$G</span><span class="w"> </span><span class="nv">$sig0</span><span class="w"> </span><span class="nv">$sig0</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="mf">0.0</span>

<span class="w">    </span><span class="c"># the orthotropic wrapper</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;ortho&quot;</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>Ex<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="nv">$E</span><span class="o">*</span><span class="mf">1.5</span><span class="k">]</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>Ey<span class="w"> </span><span class="nv">$E</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>Ez<span class="w"> </span><span class="nv">$E</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>Gxy<span class="w"> </span><span class="nv">$G</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>Gyz<span class="w"> </span><span class="nv">$G</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>Gzx<span class="w"> </span><span class="nv">$G</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>vxy<span class="w"> </span><span class="nv">$v</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>vyz<span class="w"> </span><span class="nv">$v</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>vzx<span class="w"> </span><span class="nv">$v</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>Asigmaxx<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mf">1.0</span><span class="o">/</span><span class="mf">1.5</span><span class="k">];</span><span class="w"> </span><span class="c"># fx_iso/fx_ortho</span>
<span class="w">        </span><span class="c"># nDMaterial Orthotropic $tag $theIsoMat $Ex $Ey $Ez $Gxy $Gyz $Gzx $vxy $vyz $vzx $Asigmaxx $Asigmayy $Asigmazz $Asigmaxyxy $Asigmayzyz $Asigmaxzxz.</span>
<span class="w">        </span><span class="nv">nDMaterial</span><span class="w"> </span>Orthotropic<span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">$Ex</span><span class="w"> </span><span class="nv">$Ey</span><span class="w"> </span><span class="nv">$Ez</span><span class="w"> </span><span class="nv">$Gxy</span><span class="w"> </span><span class="nv">$Gyz</span><span class="w"> </span><span class="nv">$Gzx</span><span class="w"> </span><span class="nv">$vxy</span><span class="w"> </span><span class="nv">$vyz</span><span class="w"> </span><span class="nv">$vzx</span><span class="w"> </span><span class="nv">$Asigmaxx</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span>
<span class="w">        </span><span class="nv">nDMaterial</span><span class="w"> </span>PlaneStress<span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="k">}</span>

<span class="w">    </span><span class="c"># a triangle</span>
<span class="w">    </span><span class="nv">node</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="nv">node</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="nv">node</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;ortho&quot;</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>mat_tag<span class="w"> </span><span class="mi">3</span>
<span class="w">    </span><span class="k">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span>mat_tag<span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="k">}</span>
<span class="w">    </span><span class="nv">element</span><span class="w"> </span>tri31<span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="mf">1.0</span><span class="w"> </span><span class="s2">&quot;PlaneStress&quot;</span><span class="w"> </span><span class="nv">$mat_tag</span>

<span class="w">    </span><span class="c"># fixity</span>
<span class="w">    </span><span class="nv">fix</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="nv">fix</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="nv">fix</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span>

<span class="w">    </span><span class="c"># a simple ramp</span>
<span class="w">    </span><span class="nv">timeSeries</span><span class="w"> </span>Linear<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span>factor<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mf">2.0</span><span class="o">*</span><span class="nv">$sig0</span><span class="k">]</span>

<span class="w">    </span><span class="c"># imposed stresses</span>
<span class="w">    </span><span class="nv">pattern</span><span class="w"> </span>Plain<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">load</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">$dX</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">        </span><span class="nb">load</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="nv">$dY</span>
<span class="w">    </span><span class="k">}</span>

<span class="w">    </span><span class="c"># analyze</span>
<span class="w">    </span><span class="nv">constraints</span><span class="w"> </span>Transformation
<span class="w">    </span><span class="nv">numberer</span><span class="w"> </span>Plain
<span class="w">    </span><span class="nv">system</span><span class="w"> </span>FullGeneral
<span class="w">    </span><span class="nv">test</span><span class="w"> </span>NormDispIncr<span class="w"> </span><span class="mf">1.0</span>e-6<span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="nv">algorithm</span><span class="w"> </span>Newton

<span class="w">    </span><span class="k">set</span><span class="w"> </span>dLambda<span class="w"> </span><span class="mf">0.1</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>dLambdaMin<span class="w"> </span><span class="mf">0.001</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>Lambda<span class="w"> </span><span class="mf">0.0</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>sX<span class="w"> </span><span class="mf">0.0</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>sY<span class="w"> </span><span class="mf">0.0</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">        </span><span class="nv">integrator</span><span class="w"> </span>LoadControl<span class="w"> </span><span class="nv">$dLambda</span>
<span class="w">        </span><span class="nv">analysis</span><span class="w"> </span>Static
<span class="w">        </span><span class="k">set</span><span class="w"> </span>ok<span class="w"> </span><span class="k">[</span><span class="nv">analyze</span><span class="w"> </span><span class="mi">1</span><span class="k">]</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$ok</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">0</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">            </span><span class="k">set</span><span class="w"> </span>stress<span class="w"> </span><span class="k">[</span><span class="nv">eleResponse</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="s2">&quot;material&quot;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="s2">&quot;stress&quot;</span><span class="k">]</span>
<span class="w">            </span><span class="k">set</span><span class="w"> </span>sX<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$stress</span><span class="w"> </span><span class="mi">0</span><span class="k">]]</span>
<span class="w">            </span><span class="k">set</span><span class="w"> </span>sY<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$stress</span><span class="w"> </span><span class="mi">1</span><span class="k">]]</span>
<span class="w">            </span><span class="k">set</span><span class="w"> </span>Lambda<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="nv">$Lambda</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">$dLambda</span><span class="k">]</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$Lambda</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">0.9999</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">                </span><span class="k">break</span>
<span class="w">            </span><span class="k">}</span>
<span class="w">        </span><span class="k">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">            </span><span class="k">set</span><span class="w"> </span>dLambda<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="nv">$dLambda</span><span class="o">/</span><span class="mf">2.0</span><span class="k">]</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$dLambda</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">$dLambdaMin</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">                </span><span class="k">break</span>
<span class="w">            </span><span class="k">}</span>
<span class="w">        </span><span class="k">}</span>
<span class="w">    </span><span class="k">}</span>

<span class="w">    </span><span class="c"># done</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">[</span><span class="nb">list</span><span class="w"> </span><span class="nv">$sX</span><span class="w"> </span><span class="nv">$sY</span><span class="k">]</span>
<span class="k">}</span>

<span class="k">set</span><span class="w"> </span>NDiv<span class="w"> </span><span class="mi">48</span>
<span class="k">set</span><span class="w"> </span>NP<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="nv">$NDiv</span><span class="o">+</span><span class="mi">1</span><span class="k">]</span>
<span class="k">set</span><span class="w"> </span>pi<span class="w"> </span><span class="k">[expr</span><span class="w"> </span>acos<span class="k">(</span><span class="nv">-1</span><span class="k">)]</span>
<span class="k">set</span><span class="w"> </span>dAngle<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mf">2.0</span><span class="o">*</span><span class="nv">$pi</span><span class="o">/</span><span class="nv">$NDiv</span><span class="k">]</span>
<span class="k">set</span><span class="w"> </span>SX<span class="w"> </span><span class="k">{}</span>
<span class="k">set</span><span class="w"> </span>SY<span class="w"> </span><span class="k">{}</span>
<span class="k">set</span><span class="w"> </span>SXortho<span class="w"> </span><span class="k">{}</span>
<span class="k">set</span><span class="w"> </span>SYortho<span class="w"> </span><span class="k">{}</span>
<span class="k">for</span><span class="w"> </span><span class="k">{set</span><span class="w"> </span>i<span class="w"> </span><span class="mi">0</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nv">$i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">$NDiv</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nb">incr</span><span class="w"> </span>i<span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>angle<span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="nv">$i.0</span><span class="o">*</span><span class="nv">$dAngle</span><span class="k">]</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>dX<span class="w"> </span><span class="k">[expr</span><span class="w"> </span>cos<span class="k">(</span><span class="nv">$angle</span><span class="k">)]</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>dY<span class="w"> </span><span class="k">[expr</span><span class="w"> </span>sin<span class="k">(</span><span class="nv">$angle</span><span class="k">)]</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>iso<span class="w"> </span><span class="k">[</span><span class="nv">analyze_dir</span><span class="w"> </span><span class="nv">$dX</span><span class="w"> </span><span class="nv">$dY</span><span class="w"> </span><span class="s2">&quot;iso&quot;</span><span class="k">]</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span>ortho<span class="w"> </span><span class="k">[</span><span class="nv">analyze_dir</span><span class="w"> </span><span class="nv">$dX</span><span class="w"> </span><span class="nv">$dY</span><span class="w"> </span><span class="s2">&quot;ortho&quot;</span><span class="k">]</span>
<span class="w">    </span><span class="nb">lappend</span><span class="w"> </span>SX<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$iso</span><span class="w"> </span><span class="mi">0</span><span class="k">]</span>
<span class="w">    </span><span class="nb">lappend</span><span class="w"> </span>SY<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$iso</span><span class="w"> </span><span class="mi">1</span><span class="k">]</span>
<span class="w">    </span><span class="nb">lappend</span><span class="w"> </span>SXortho<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$ortho</span><span class="w"> </span><span class="mi">0</span><span class="k">]</span>
<span class="w">    </span><span class="nb">lappend</span><span class="w"> </span>SYortho<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$ortho</span><span class="w"> </span><span class="mi">1</span><span class="k">]</span>
<span class="k">}</span>
<span class="nb">lappend</span><span class="w"> </span>SX<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SX</span><span class="w"> </span><span class="mi">0</span><span class="k">]</span>
<span class="nb">lappend</span><span class="w"> </span>SY<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SY</span><span class="w"> </span><span class="mi">0</span><span class="k">]</span>
<span class="nb">lappend</span><span class="w"> </span>SXortho<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SXortho</span><span class="w"> </span><span class="mi">0</span><span class="k">]</span>
<span class="nb">lappend</span><span class="w"> </span>SYortho<span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SYortho</span><span class="w"> </span><span class="mi">0</span><span class="k">]</span>
<span class="nb">puts</span><span class="w"> </span><span class="k">[</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;%12s %12s %12s %12s&quot;</span><span class="w"> </span><span class="s2">&quot;Sx(iso)&quot;</span><span class="w"> </span><span class="s2">&quot;Sy(iso)&quot;</span><span class="w"> </span><span class="s2">&quot;Sx(ortho)&quot;</span><span class="w"> </span><span class="s2">&quot;Sy(ortho)&quot;</span><span class="k">]</span>
<span class="k">for</span><span class="w"> </span><span class="k">{set</span><span class="w"> </span>i<span class="w"> </span><span class="mi">0</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nv">$i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">$NP</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nb">incr</span><span class="w"> </span>i<span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="k">[</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;%12.3f %12.3f %12.3f %12.3f&quot;</span><span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SX</span><span class="w"> </span><span class="nv">$i</span><span class="k">]</span><span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SY</span><span class="w"> </span><span class="nv">$i</span><span class="k">]</span><span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SXortho</span><span class="w"> </span><span class="nv">$i</span><span class="k">]</span><span class="w"> </span><span class="k">[</span><span class="nb">lindex</span><span class="w"> </span><span class="nv">$SYortho</span><span class="w"> </span><span class="nv">$i</span><span class="k">]]</span>
<span class="k">}</span>
</pre></div>
</div>
</div>
<div role="list" class="citation-list">
<div class="citation" id="oller2003" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Oller2003<span class="fn-bracket">]</span></span>
<div class="line-block">
<div class="line">Oller, S., Car, E., &amp; Lubliner, J. (2003). Definition of a general implicit orthotropic yield criterion. Computer methods in applied mechanics and engineering, 192(7-8), 895-912. (<a class="reference external" href="https://core.ac.uk/download/pdf/296535134.pdf">Link to article</a>)</div>
</div>
</div>
</div>
<p>Code Developed by: <strong>Massimo Petracca</strong> at ASDEA Software, Italy.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, The Regents of the University of California.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2431545-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-2431545-1', {
          'anonymize_ip': false,
      });
    </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>
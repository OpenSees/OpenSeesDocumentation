

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>3.1.10.17. MEFI Element &mdash; OpenSees Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="3.1.10.18. ASDShellT3 Element" href="ASDShellT3.html" />
    <link rel="prev" title="3.1.10.16. SSPquad Element" href="SSPquad.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html">
          

          
            
            <img src="../../../../_static/OpenSeesLogo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Applications for Users</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../interpreters.html">1. OpenSees Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">2. Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../userManual.html">3. Command Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../modelCommands.html">3.1. Model Commands</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../model.html">3.1.1. model Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node.html">3.1.2. node Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spConstraints.html">3.1.3. SP_Constraint Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mpConstraints.html">3.1.4. MP_Constraint Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../material/uniaxialMaterial.html">3.1.5. uniaxialMaterial Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../material/ndMaterial.html">3.1.6. nDMaterial Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../section.html">3.1.7. section Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../geomTransf.html">3.1.8. Geometric Transformation Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../beamIntegration.html">3.1.9. Beam integration Command</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../element.html">3.1.10. Element Command</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="zeroLength.html">3.1.10.1. ZeroLength Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="zeroLengthSection.html">3.1.10.2. ZeroLength Section Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="zeroLengthND.html">3.1.10.3. ZeroLengthND Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="zeroLengthContactASDimplex.html">3.1.10.4. ZeroLengthContactASDimplex Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="elasticBeamColumn.html">3.1.10.5. Elastic Beam Column Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="ModElasticBeam.html">3.1.10.6. Modified Elastic Beam Column Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="gradientInelasticBeamColumn.html">3.1.10.7. Gradient Inelastic (GI) Beam-Column Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="MVLEM_3D.html">3.1.10.8. MVLEM_3D Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="SFI_MVLEM_3D.html">3.1.10.9. SFI-MVLEM-3D Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="E_SFI_MVLEM_3D.html">3.1.10.10. E-SFI-MVLEM-3D Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="dispBeamColumnAsym.html">3.1.10.11. Displacement-Based Beam Element (Asymmetric Sections)</a></li>
<li class="toctree-l4"><a class="reference internal" href="mixedBeamColumnAsym.html">3.1.10.12. Mixed Beam Element (Asymmetric Sections)</a></li>
<li class="toctree-l4"><a class="reference internal" href="E_SFI.html">3.1.10.13. E-SFI Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="ASDShellQ4.html">3.1.10.14. ASDShellQ4 Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="Quad.html">3.1.10.15. Quadrilateral Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="SSPquad.html">3.1.10.16. SSPquad Element</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">3.1.10.17. MEFI Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="ASDShellT3.html">3.1.10.18. ASDShellT3 Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="stdBrick.html">3.1.10.19. stdBrick Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="bbarBrick.html">3.1.10.20. bbarBrick Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="SSPbrick.html">3.1.10.21. SSPbrick Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="FourNodeTetrahedron.html">3.1.10.22. FourNodeTetrahedron Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="TenNodeTetrahedron.html">3.1.10.23. TenNodeTetrahedron Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="BeamColumnJoint.html">3.1.10.24. BeamColumnJoint Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="ElasticTubularJoint.html">3.1.10.25. ElasticTubularJoint Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="Joint2D.html">3.1.10.26. Joint2D Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="Inno3DPnPJoint.html">3.1.10.27. Inno3DPnPJoint Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="LehighJoint2D.html">3.1.10.28. LehighJoint2D Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="TripleFrictionPendulumX.html">3.1.10.29. TripleFrictionPendulumX Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="PML.html">3.1.10.30. PML Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="ASDEmbeddedNodeElement.html">3.1.10.31. ASDEmbeddedNode Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="ASDAbsorbingBoundary.html">3.1.10.32. ASDAbsorbingBoundary Element (2D and 3D)</a></li>
<li class="toctree-l4"><a class="reference internal" href="RockingBC.html">3.1.10.33. RockingBC Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="FSIFluidBoundaryElement2D.html">3.1.10.34. FSIFluidBoundaryElement2D Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="FSIFluidElement2D.html">3.1.10.35. FSIFluidElement2D Element</a></li>
<li class="toctree-l4"><a class="reference internal" href="FSIInterfaceElement2D.html">3.1.10.36. FSIInterfaceElement2D Element</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../timeSeries.html">3.1.11. Time Series Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pattern.html">3.1.12. Pattern Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../damping.html">3.1.13. Damping Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../analysisCommands.html">3.2. Analysis Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../outputCommands.html">3.3. Output Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../miscCommands.html">3.4. Misc. Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../userExamples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../messageBoard.html">5. Questions, Bugs &amp; Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/license.html">6. Copyright and License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Framework for Developer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/sourceCode.html">1. Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/build.html">2. Building Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/references.html">3. References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/extend.html">4. Extending Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/contribute.html">5. Contributing Code &amp; Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/issues.html">6. Issues</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">OpenSees Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../userManual.html"><span class="section-number">3. </span>Command Manual</a> &raquo;</li>
        
          <li><a href="../../modelCommands.html"><span class="section-number">3.1. </span>Model Commands</a> &raquo;</li>
        
          <li><a href="../element.html"><span class="section-number">3.1.10. </span>Element Command</a> &raquo;</li>
        
      <li><span class="section-number">3.1.10.17. </span>MEFI Element</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/user/manual/model/elements/MEFI.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mefi-element">
<h1><span class="section-number">3.1.10.17. </span>MEFI Element<a class="headerlink" href="#mefi-element" title="Permalink to this heading">¶</a></h1>
<p>The Membrane Fiber (MEFI) element, is described by four nodes, each containing three degrees of freedom (DOFs), two translations, and one in-plane rotation (drilling) DOF,
which incorporates a blended interpolation function for the displacements over the element. The element formulation accommodates the quadrature points and weights of the
classical finite element formulation of membrane elements to resemble strips (fibers), similarly to macroscopic elements.</p>
<div class="align-center figure" id="mefi-fig">
<a class="reference internal image-reference" href="../../../../_images/MEFI_Element.jpg"><img alt="../../../../_images/MEFI_Element.jpg" src="../../../../_images/MEFI_Element.jpg" style="width: 1000px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3.1.10.18 </span><span class="caption-text">MEFI Element: (a) Element idealization; (b) Interpolation function at bottom and top edges; (c) Interpolation function at left and right edges.</span><a class="headerlink" href="#mefi-fig" title="Permalink to this image">¶</a></p>
</div>
<p>This command is used to construct a MEFI element object.</p>
<div class="admonition-command admonition">
<p class="admonition-title">Command</p>
<p>element MEFI $eleTag $iNode $jNode $kNode $lNode $numFib -width $widths -sec $secTags</p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>$eleTag</p></td>
<td><p>integer</p></td>
<td><p>unique element object tag</p></td>
</tr>
<tr class="row-odd"><td><p>$iNode $jNode $kNode $lNode</p></td>
<td><p>4 integer</p></td>
<td><p>tags of element nodes defined in counterclockwise direction</p></td>
</tr>
<tr class="row-even"><td><p>$numFib</p></td>
<td><p>integer</p></td>
<td><p>number of element macro-fibers</p></td>
</tr>
<tr class="row-odd"><td><p>$widths</p></td>
<td><p>list float</p></td>
<td><p>a list of <em>numFib</em> macro-fiber widths</p></td>
</tr>
<tr class="row-even"><td><p>$secTags</p></td>
<td><p>list int</p></td>
<td><p>a list of <em>numFib</em> macro-fiber section tags</p></td>
</tr>
</tbody>
</table>
<p>The following recorders are available with the MEFI element.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Recorder</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>forces</p></td>
<td><p>element global forces</p></td>
</tr>
<tr class="row-odd"><td><p>stresses</p></td>
<td><p>element stresses</p></td>
</tr>
<tr class="row-even"><td><p>strains</p></td>
<td><p>element strains</p></td>
</tr>
<tr class="row-odd"><td><p>RCPanel $fibTag $Response</p></td>
<td><p>returns material $Response for a $fibTag-th panel (1 ≤ fibTag ≤ numFib). For available $Response(s) refer to material</p></td>
</tr>
</tbody>
</table>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<div class="line-block">
<div class="line">1. This element shall be used in domain defined with <strong>-ndm 2 -ndf 3</strong></div>
<div class="line">2. For additional information please visit <a class="reference external" href="https://github.com/carloslopezolea/MEFI">MEFI GitHub Page</a></div>
</div>
</div>
<div class="admonition-command-example admonition">
<p class="admonition-title">Command Example</p>
<p>The following example constructs a MEFI element with tag <strong>1</strong> between nodes <strong>1, 2, 3, 4</strong>, with <strong>8</strong> macro-fibers. Each macro-fiber has width <strong>1</strong> and material tag <strong>1</strong>.</p>
<ol class="arabic simple">
<li><p><strong>Tcl Code</strong></p></li>
</ol>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">element</span><span class="w"> </span>MEFI<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">-</span>width<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span>sec<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="k">;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Python Code</strong></p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">element</span><span class="p">(</span><span class="s1">&#39;MEFI&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;-width&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;-sec&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-pushover-example admonition">
<p class="admonition-title">Pushover Example</p>
<p>The following example creates a pushover analysis for a reinforced concrete wall. The example is based on specimen RW-A20-P10-S38 tested by Tran and Wallace (<a class="reference external" href="https://escholarship.org/uc/item/1538q2p8">2012</a>).</p>
<ol class="arabic simple">
<li><p><strong>Tcl Code</strong></p></li>
</ol>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Description: Pushover analysis of specimen RW-A20-P10-S38 (Tran and Wallace, 2012)</span>
<span class="c"># Created by: Carlos López Olea (carloslopezolea@gmail.com)</span>
<span class="c"># Last Modification: 01/2024</span>
<span class="c"># Basic units: N, mm, sec</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Start of model generation</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="nv">wipe</span>
<span class="nv">model</span><span class="w"> </span>Basic<span class="w"> </span><span class="o">-</span>ndm<span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span>ndf<span class="w"> </span><span class="mi">3</span>

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Set geometry, nodes, boundary conditions</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="c"># Nodes for RC wall</span>
<span class="k">for</span><span class="w"> </span><span class="k">{set</span><span class="w"> </span>i<span class="w"> </span><span class="mi">1</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nv">$i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nv">8</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nb">incr</span><span class="w"> </span>i<span class="k">}</span><span class="w"> </span><span class="k">{</span>
<span class="w">        </span><span class="nv">node</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i-1</span><span class="k">]</span><span class="w"> </span><span class="mf">0.0</span><span class="w">    </span><span class="k">[expr</span><span class="w"> </span><span class="k">(</span><span class="nv">2209.8</span><span class="o">/</span><span class="mi">7</span><span class="k">)</span><span class="o">*</span><span class="k">(</span><span class="nv">$i-1</span><span class="k">)]</span>
<span class="w">        </span><span class="nv">node</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i</span><span class="k">]</span><span class="w">   </span><span class="mf">1220.0</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="k">(</span><span class="nv">2209.8</span><span class="o">/</span><span class="mi">7</span><span class="k">)</span><span class="o">*</span><span class="k">(</span><span class="nv">$i-1</span><span class="k">)]</span>
<span class="k">}</span>

<span class="c"># Nodes for loading transfer beam</span>
<span class="k">for</span><span class="w"> </span><span class="k">{set</span><span class="w"> </span>i<span class="w"> </span><span class="mi">9</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nv">$i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nv">10</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nb">incr</span><span class="w"> </span>i<span class="k">}</span><span class="w"> </span><span class="k">{</span>
<span class="w">        </span><span class="nv">node</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i-1</span><span class="k">]</span><span class="w"> </span><span class="mf">0.0</span><span class="w">    </span><span class="k">[expr</span><span class="w"> </span><span class="mf">2209.8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">(</span><span class="nv">457.2</span><span class="o">/</span><span class="mi">2</span><span class="k">)</span><span class="o">*</span><span class="k">(</span><span class="nv">$i-8</span><span class="k">)]</span>
<span class="w">        </span><span class="nv">node</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i</span><span class="k">]</span><span class="w">   </span><span class="mf">1220.0</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mf">2209.8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">(</span><span class="nv">457.2</span><span class="o">/</span><span class="mi">2</span><span class="k">)</span><span class="o">*</span><span class="k">(</span><span class="nv">$i-8</span><span class="k">)]</span>
<span class="k">}</span>

<span class="c"># Restraint fixes</span>
<span class="nv">fix</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span>
<span class="nv">fix</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span>

<span class="c"># Node restraints</span>
<span class="nv">equalDOF</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">1</span>
<span class="nv">equalDOF</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">1</span>
<span class="nv">equalDOF</span><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="mi">1</span>

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Define and build materials</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="c"># Build uniaxial steel materials</span>
<span class="nv">uniaxialMaterial</span><span class="w">  </span>Steel02<span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="mf">469.93</span><span class="w"> </span><span class="mf">200000.0</span><span class="w"> </span><span class="mf">0.02</span><span class="w"> </span><span class="mf">20.0</span><span class="w"> </span><span class="mf">0.925</span><span class="w"> </span><span class="mf">0.15</span><span class="k">;</span><span class="w"> </span><span class="c"># steel X</span>
<span class="nv">uniaxialMaterial</span><span class="w">  </span>Steel02<span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="mf">409.71</span><span class="w"> </span><span class="mf">200000.0</span><span class="w"> </span><span class="mf">0.02</span><span class="w"> </span><span class="mf">20.0</span><span class="w"> </span><span class="mf">0.925</span><span class="w"> </span><span class="mf">0.15</span><span class="k">;</span><span class="w"> </span><span class="c"># steel Y web</span>
<span class="nv">uniaxialMaterial</span><span class="w">  </span>Steel02<span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="mf">429.78</span><span class="w"> </span><span class="mf">200000.0</span><span class="w"> </span><span class="mf">0.01</span><span class="w"> </span><span class="mf">20.0</span><span class="w"> </span><span class="mf">0.925</span><span class="w"> </span><span class="mf">0.15</span><span class="k">;</span><span class="w"> </span><span class="c"># steel Y boundary</span>

<span class="c"># Build uniaxial concrete materials</span>
<span class="nv">uniaxialMaterial</span><span class="w"> </span>Concrete02<span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="mf">47.09</span><span class="w"> </span><span class="o">-</span><span class="mf">0.00232</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="o">-</span><span class="mf">0.037</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="mf">2.13</span><span class="w"> </span><span class="mf">1738.33</span><span class="k">;</span><span class="w"> </span><span class="c"># unconfined concrete</span>
<span class="nv">uniaxialMaterial</span><span class="w"> </span>Concrete02<span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="mf">53.78</span><span class="w"> </span><span class="o">-</span><span class="mf">0.00397</span><span class="w"> </span><span class="o">-</span><span class="mf">9.42</span><span class="w"> </span><span class="o">-</span><span class="mf">0.047</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="mf">2.13</span><span class="w"> </span><span class="mf">1827.12</span><span class="k">;</span><span class="w"> </span><span class="c"># confined concrete</span>

<span class="c"># Build nD concrete materials</span>
<span class="nv">nDMaterial</span><span class="w"> </span>OrthotropicRAConcrete<span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mf">0.00008</span><span class="w"> </span><span class="o">-</span><span class="mf">0.00232</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="o">-</span>damageCte1<span class="w"> </span><span class="mf">0.175</span><span class="w"> </span><span class="o">-</span>damageCte2<span class="w"> </span><span class="mf">0.5</span><span class="k">;</span><span class="w"> </span><span class="c"># unconfined concrete</span>
<span class="nv">nDMaterial</span><span class="w"> </span>OrthotropicRAConcrete<span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mf">0.00008</span><span class="w"> </span><span class="o">-</span><span class="mf">0.00397</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="o">-</span>damageCte1<span class="w"> </span><span class="mf">0.175</span><span class="w"> </span><span class="o">-</span>damageCte2<span class="w"> </span><span class="mf">0.5</span><span class="k">;</span><span class="w"> </span><span class="c"># confined concrete</span>

<span class="c"># Build nD steel materials</span>
<span class="nv">nDMaterial</span><span class="w"> </span>SmearedSteelDoubleLayer<span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mf">0.0027</span><span class="w"> </span><span class="mf">0.0027</span><span class="w"> </span><span class="mf">0.0</span><span class="k">;</span><span class="w"> </span><span class="c"># steel web</span>
<span class="nv">nDMaterial</span><span class="w"> </span>SmearedSteelDoubleLayer<span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">0.0082</span><span class="w"> </span><span class="mf">0.0323</span><span class="w"> </span><span class="mf">0.0</span><span class="k">;</span><span class="w"> </span><span class="c"># steel boundary</span>

<span class="c"># Build reinforced concrete sections</span>
<span class="nv">section</span><span class="w"> </span>RCLMS<span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span>reinfSteel<span class="w"> </span><span class="mi">8</span><span class="w">  </span><span class="o">-</span>conc<span class="w"> </span><span class="mi">6</span><span class="w">   </span><span class="o">-</span>concThick<span class="w"> </span><span class="mf">152.4</span><span class="k">;</span><span class="w">       </span><span class="c"># wall web</span>
<span class="nv">section</span><span class="w"> </span>RCLMS<span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span>reinfSteel<span class="w"> </span><span class="mi">9</span><span class="w">  </span><span class="o">-</span>conc<span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="o">-</span>concThick<span class="w"> </span><span class="mf">50.8</span><span class="w">  </span><span class="mf">101.6</span><span class="k">;</span><span class="w"> </span><span class="c"># wall boundary</span>

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Define and build elements</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="c"># Build MEFI elements</span>
<span class="k">set</span><span class="w"> </span>numFib<span class="w"> </span><span class="mi">8</span><span class="k">;</span><span class="w">   </span><span class="c"># number of element macro-fibers</span>
<span class="k">set</span><span class="w"> </span>db<span class="w"> </span><span class="mf">228.6</span><span class="k">;</span><span class="w">   </span><span class="c"># boundary length discretization</span>
<span class="k">set</span><span class="w"> </span>dw<span class="w"> </span><span class="mf">127.133</span><span class="k">;</span><span class="w"> </span><span class="c"># web length discretization</span>

<span class="k">for</span><span class="w"> </span><span class="k">{set</span><span class="w"> </span>i<span class="w"> </span><span class="mi">1</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nv">$i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nv">9</span><span class="k">}</span><span class="w"> </span><span class="k">{</span><span class="nb">incr</span><span class="w"> </span>i<span class="k">}</span><span class="w"> </span><span class="k">{</span>
<span class="w">        </span><span class="nv">element</span><span class="w"> </span>MEFI<span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i-1</span><span class="k">]</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i</span><span class="k">]</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i</span><span class="o">+</span><span class="mi">2</span><span class="k">]</span><span class="w"> </span><span class="k">[expr</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nv">$i</span><span class="o">+</span><span class="mi">1</span><span class="k">]</span><span class="w"> </span><span class="nv">$numFib</span><span class="w"> </span><span class="o">-</span>width<span class="w"> </span><span class="nv">$db</span><span class="w"> </span><span class="nv">$dw</span><span class="w"> </span><span class="nv">$dw</span><span class="w"> </span><span class="nv">$dw</span><span class="w"> </span><span class="nv">$dw</span><span class="w"> </span><span class="nv">$dw</span><span class="w"> </span><span class="nv">$dw</span><span class="w"> </span><span class="nv">$db</span><span class="w"> </span><span class="o">-</span>sec<span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="k">;</span>
<span class="k">}</span>

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c">#  Define recorders</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="nv">recorder</span><span class="w"> </span>Element<span class="w"> </span><span class="o">-</span>file<span class="w"> </span>MEFI<span class="o">/</span>MEFI1_forces.out<span class="w"> </span><span class="o">-</span>time<span class="w"> </span><span class="o">-</span>ele<span class="w"> </span><span class="mi">1</span><span class="w"> </span>forces
<span class="nv">recorder</span><span class="w"> </span>Element<span class="w"> </span><span class="o">-</span>file<span class="w"> </span>MEFI<span class="o">/</span>MEFI1_stresses.out<span class="w"> </span><span class="o">-</span>time<span class="w"> </span><span class="o">-</span>ele<span class="w"> </span><span class="mi">1</span><span class="w"> </span>stresses
<span class="nv">recorder</span><span class="w"> </span>Element<span class="w"> </span><span class="o">-</span>file<span class="w"> </span>MEFI<span class="o">/</span>MEFI1_strains.out<span class="w"> </span><span class="o">-</span>time<span class="w"> </span><span class="o">-</span>ele<span class="w"> </span><span class="mi">1</span><span class="w"> </span>strains
<span class="nv">recorder</span><span class="w"> </span>Element<span class="w"> </span><span class="o">-</span>file<span class="w"> </span>MEFI<span class="o">/</span>MEFI1_fiber1_strain.out<span class="w"> </span><span class="o">-</span>time<span class="w"> </span><span class="o">-</span>ele<span class="w"> </span><span class="mi">1</span><span class="w"> </span>RCPanel<span class="w"> </span><span class="mi">1</span><span class="w"> </span>panel_strain
<span class="nv">recorder</span><span class="w"> </span>Element<span class="w"> </span><span class="o">-</span>file<span class="w"> </span>MEFI<span class="o">/</span>MEFI1_fiber1_stress.out<span class="w"> </span><span class="o">-</span>time<span class="w"> </span><span class="o">-</span>ele<span class="w"> </span><span class="mi">1</span><span class="w"> </span>RCPanel<span class="w"> </span><span class="mi">1</span><span class="w"> </span>panel_stress

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Gravity load analysis</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="c"># Define gravity load pattern</span>
<span class="nv">pattern</span><span class="w"> </span>Plain<span class="w"> </span><span class="mi">1</span><span class="w"> </span>Linear<span class="w"> </span><span class="k">{</span>
<span class="w">        </span><span class="nb">load</span><span class="w"> </span><span class="mi">19</span><span class="w">  </span><span class="mf">0.0</span><span class="w"> </span><span class="o">-</span><span class="mf">320272.0</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">        </span><span class="nb">load</span><span class="w"> </span><span class="mi">20</span><span class="w">  </span><span class="mf">0.0</span><span class="w"> </span><span class="o">-</span><span class="mf">320272.0</span><span class="w"> </span><span class="mf">0.0</span>
<span class="k">}</span>

<span class="c"># Analysis generation</span>
<span class="nv">system</span><span class="w"> </span>BandGeneral
<span class="nv">constraints</span><span class="w"> </span>Transformation
<span class="nv">numberer</span><span class="w"> </span>RCM
<span class="nv">test</span><span class="w"> </span>NormUnbalance<span class="w"> </span><span class="mf">100.0</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="mi">0</span>
<span class="nv">algorithm</span><span class="w"> </span>Newton
<span class="nv">integrator</span><span class="w"> </span>LoadControl<span class="w"> </span><span class="mf">0.05</span>
<span class="nv">analysis</span><span class="w"> </span>Static
<span class="k">set</span><span class="w"> </span>ok<span class="w"> </span><span class="k">[</span><span class="nv">analyze</span><span class="w"> </span><span class="mi">20</span><span class="k">]</span>
<span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$ok</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">0</span><span class="k">}</span><span class="w"> </span><span class="k">{</span>
<span class="w">   </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Gravity analysis completed successfully&quot;</span><span class="k">;</span>
<span class="k">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">{</span>
<span class="w">   </span><span class="k">error</span><span class="w"> </span><span class="s2">&quot;Gravity analysis failed&quot;</span><span class="k">;</span>
<span class="k">}</span>
<span class="nv">loadConst</span><span class="w"> </span><span class="o">-</span>time<span class="w"> </span><span class="mf">0.0</span>
<span class="nv">wipeAnalysis</span>

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Lateral load analysis</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="c"># Define lateral load pattern</span>
<span class="nv">pattern</span><span class="w"> </span>Plain<span class="w"> </span><span class="mi">2</span><span class="w"> </span>Linear<span class="w"> </span><span class="k">{</span>
<span class="w">        </span><span class="nb">load</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mf">1000.0</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">        </span><span class="nb">load</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mf">1000.0</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">        </span><span class="nb">load</span><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="mf">1000.0</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="mf">0.0</span>
<span class="k">}</span>

<span class="c"># Analysis generation</span>
<span class="nv">system</span><span class="w"> </span>BandGeneral
<span class="nv">constraints</span><span class="w"> </span>Transformation
<span class="nv">numberer</span><span class="w"> </span>RCM
<span class="nv">test</span><span class="w"> </span>NormDispIncr<span class="w"> </span><span class="mf">0.001</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="mi">0</span>
<span class="nv">algorithm</span><span class="w"> </span>Newton
<span class="nv">integrator</span><span class="w"> </span>DisplacementControl<span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mf">0.1</span>
<span class="nv">analysis</span><span class="w"> </span>Static
<span class="k">set</span><span class="w"> </span>ok<span class="w"> </span><span class="k">[</span><span class="nv">analyze</span><span class="w"> </span><span class="mi">800</span><span class="k">]</span>
<span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$ok</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">0</span><span class="k">}</span><span class="w"> </span><span class="k">{</span>
<span class="w">   </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Pushover analysis completed successfully&quot;</span><span class="k">;</span>
<span class="k">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">{</span>
<span class="w">   </span><span class="k">error</span><span class="w"> </span><span class="s2">&quot;Pushover analysis failed&quot;</span><span class="k">;</span>
<span class="k">}</span>

<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c"># Perform tests</span>
<span class="c"># ------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="c"># Base shear test</span>
<span class="nv">reactions</span>
<span class="k">set</span><span class="w"> </span>BSref<span class="w"> </span><span class="mf">421968.7</span><span class="k">;</span><span class="w">                                         </span><span class="c"># reference value for base shear</span>
<span class="k">set</span><span class="w"> </span>BS<span class="w"> </span><span class="k">[expr</span><span class="w"> </span>abs<span class="k">([</span><span class="nv">nodeReaction</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="k">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">[</span><span class="nv">nodeReaction</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="k">])];</span><span class="w"> </span><span class="c"># computed value for base shear</span>
<span class="k">set</span><span class="w"> </span>BSerr<span class="w"> </span><span class="k">[expr</span><span class="w"> </span>abs<span class="k">(</span><span class="nv">$BS-$BSref</span><span class="k">)</span><span class="o">/</span><span class="nv">$BSref</span><span class="k">];</span><span class="w">                    </span><span class="c"># compute relative error</span>
<span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Relative base shear error is abs(BS-BSref)/BSref: $BSerr&quot;</span>
<span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="nv">$BSerr</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nv">0.0001</span><span class="k">}</span><span class="w"> </span><span class="k">{</span>
<span class="w">   </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Base shear test completed successfully&quot;</span><span class="k">;</span>
<span class="k">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">{</span>
<span class="w">   </span><span class="k">error</span><span class="w"> </span><span class="s2">&quot;Base shear test failed&quot;</span><span class="k">;</span>
<span class="k">}</span>
</pre></div>
</div>
</div>
<p><strong>REFERENCES:</strong></p>
<ol class="arabic simple">
<li><p>López, C. N., Rojas, F., &amp; Massone, L. M. (2022). Membrane fiber element for reinforced concrete walls – the benefits of macro and micro modeling approaches. Engineering Structures, 254, 113819. (<a class="reference external" href="https://www.sciencedirect.com/science/article/abs/pii/S0141029621018897">link</a>).</p></li>
</ol>
<p><strong>Code Developed by:</strong> <a class="reference external" href="mailto:carloslopezolea&#37;&#52;&#48;ug&#46;uchile&#46;cl">C<span>&#46;</span> N<span>&#46;</span> López</a></p>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-2431545-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>